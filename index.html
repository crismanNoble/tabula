<!DOCTYPE html>
<html>
<head>
<style>

body {
	margin: 0;
	padding: 0;
	color: #333;
	font-family: Baskerville, "Baskerville Old Face", "Hoefler Text", Garamond, "Times New Roman", serif;
}

html, body {
}

.bookTitle {
	font-weight: normal;
	font-size: 36px;
	line-height: 36px;
	font-style: italic;
	margin: 0 0 0 20px;
}

.pull-right {
	float: right;
}

.pull-left {
	float: left;
}

.coverImage {
	width: 300px;
	box-shadow: 1px 1px 5px #ccc, -1px -1px 5px #ccc;
}

.bookArea {
	margin: 30px auto;
	width: 600px;
	position: relative;
}

.author {
	font-weight: normal;
	font-size: 20px;
	line-height: 26px;
	margin: 5px 0 0 20px;
	display: inline-block;
}

.divider {
	margin-left: 18px;
	border-top: 1px solid #333;
	width: 282px;
	float: left;
	margin-top: 6px;
	opacity: .6;
	margin-top: 10px;
	margin-bottom: 10px;
}

.bookDescription {
	padding-left: 20px;
	margin: 0;
	font-size: 14px;
	line-height: 16px;
	font-family: Apollo;

}

.bookInfo {
	width: 300px;
	position: relative;
	display: inline-block;
	position: absolute;
	left: 300px;
	min-height: 394px;
	margin-bottom: 30px;
	clear:both;
}

.bookNav {
	bottom: 0;
	right: 0;
	position: absolute;
	margin: 0;
	color: #ccc;
	font-style: italic;
	font-family: Apollo;
	text-decoration: none;
}

.bookNavLink {
	color: #666;
	opacity: .6;
	text-decoration: none;
	-webkit-transition: all .3s linear;
	-moz-transition: all .3s linear;
	-o-transition: all .3s linear;
	transition: all .3s linear;
}
.bookNavLink:hover {
	opacity: 1;
}

.externalLink {
	text-decoration: none;
	color: rgb(100, 9, 100);
	-webkit-transition: all .3s linear;
	-moz-transition: all .3s linear;
	-o-transition: all .3s linear;
	transition: all .3s linear;
}

.externalLink:hover {
	text-decoration: underline;
}

.tags {
	text-decoration: none;
	color: rgb(100, 9, 100);
}

.numberLinks, .subtleLink {
	text-decoration: none;
	color: #333;
}

.faded {
	opacity: .6;
}

.bookDescription:last {
	margin-bottom: 30px;
}

.header {
	height: 20px;
	background: #ccc;
	color: #f9f9f9;
	font-family: Baskerville, "Baskerville Old Face", "Hoefler Text", Garamond, "Times New Roman", serif;
	font-family: Apollo;
	font-style: italic;
	font-size: 12px;
	line-height: 16px;
	padding-left: 20px;
	padding-top: 2px;

		-webkit-transition: all .3s linear;
	-moz-transition: all .3s linear;
	-o-transition: all .3s linear;
	transition: all .3s linear;

}

.header:hover {
	color: #f9f9f9;
}

.bookBullet {
	position: absolute;
	display: inline-block;
	width: 7px;
	height: 7px;
	border-radius: 100%;
	background: #f9f9f9;
		border: 1px solid #ccc;
	font-size: 20px;
	margin-top: 4px;
	-webkit-transition: background .3s linear;
	-webkit-transition: border .3s linear;
	cursor: pointer;
	overflow: hidden;
}

.bookBullet:hover {
	background: #ddd;
	border: 1px solid #333;
	margin-top: 4px;
	overflow: visible;
}

.bookBullet.active {
	background: #ddd;
	border: 1px solid #333;
	margin-top: 4px;
	z-index:10;
}
.hoverTitle {
	min-width: 400px;
	color: #666;
	position: absolute;
	top: 15px;
	font-size: 12px;

}

.bookBullet:hover .hoverTitle {
	opactiy: 1;
}

.footer {
	position: absolute;
	bottom: 0;
	padding-bottom: 4px;
	text-align: center;
	width: 100%;
}

#year, #publisher {
	margin-top: 0px;
}

.copyleft {
	font-family: sans-serif;
	margin-right: 4px;
	display: inline-block;
-webkit-transform: rotate(-180deg);
-moz-transform: rotate(-180deg);
-o-transform: rotate(-180deg);
-ms-transform: rotate(-180deg);
transform: rotate(-180deg);
filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=2);
}

.about {
	display: block;
	font-size: 14px;
	font-family: Apollo;
}
</style>

<script src="js/jquery.js"></script>
<script>
var bookData = [{
	"title":{
		"name":"The Lean Startup",
		"link":"http://theleanstartup.com/"
	},
	"author":{
		"name":"Eric Reis",
		"link":"http://www.startuplessonslearned.com/"
	},
	"publisher":{
		"name":"Crown Business",
		"link":"http://crownpublishing.com/imprint/crown-business/"
	},
	"year":"2011",
	"cover":"./covers/leanStartup.jpg",
	"numbers":[
		{
			"name":"ISBN",
			"number":"978-0-307-88789-4"
		},{
			"name":"Call Number",
			"number":"HD62.5.R545 2011"
		},{
			"name":"Open Library",
			"number":"OL24982481M",
			"link":"http://openlibrary.org/works/OL16086010W/The_Lean_Startup"
		}
	],
	"pages":"336",
	"read":"2013-01-11",
	"subjects":[
		"Business",
		"Non-Fiction",
		"Entrepreneurship"
	],
	"links":[
		{
			"title":"Homepage",
			"link":"http://theleanstartup.com/"
		},{
			"title":"Publisher",
			"link":"http://www.randomhouse.com/book/210088/the-lean-startup-by-eric-ries"
		},{
			"title":"Amazon",
			"link":"http://www.amazon.com/The-Lean-Startup-Entrepreneurs-Continuous/dp/0307887898/"
		},{
			"title":"Google Books",
			"link":"http://books.google.com/books?id=tvfyz-4JILwC&printsec=frontcover&dq=lean+startup&hl=en&sa=X&ei=VlcqUajRE6bQ2wXzp4DACw&ved=0CDwQ6AEwAA#v=onepage&q&f=false"
		},{
			"title":"Wikipedia",
			"link":"http://en.wikipedia.org/wiki/The_Lean_Startup:_How_Today%27s_Entrepreneurs_Use_Continuous_Innovation_to_Create_Radically_Successful_Businesses"
		}
	],
	"rating":"4",
	"description":"Eric Reis tells his story of IMVU's success and shares some pains along the way. The key takeaway is to Bulid, Measure, Learn, and do so as fast as possible."
},{
	"title":{
		"name":"UX Design For Startups",
		"link":"http://uxpin.com/ux-design-for-startups.html"
	},
	"author":{
		"name":"Marcin Treder",
		"link":"https://twitter.com/marcintreder"
	},
	"publisher":{
		"name":".net / UXPIN",
		"link":"http://uxpin.com/"
	},
	"year":"2012",
	"cover":"./covers/uxDesign.png",
	"numbers":[],
	"pages":"127",
	"read":"2013-01-30",
	"subjects":[
		"UX","design"
	],
	"links":[
		{
			"title":"Homepage",
			"link":"http://uxpin.com/ux-design-for-startups.html"
		}
	],
	"rating":"2",
	"description":"Very short read on basics of UX. Great for beginners."
},{
	"title":{
		"name":"Visual Complexity",
		"link":"http://www.visualcomplexity.com/vc/book/"
	},
	"author":{
		"name":"Manuel Lima",
		"link":"http://www.mslima.com/myhome.cfm"
	},
	"publisher":{
		"name":"Princeton Architectural Press",
		"link":"http://papress.com/"
	},
	"year":"2011",
	"cover":"./covers/visualComplexity.jpg",
	"numbers":[
		{
			"name":"ISBN",
			"number":"9781568989365"
		},{
			"name":"Open Library",
			"number":"OL25075320M"
		}
	],
	"pages":"272",
	"read":"2013-02-10",
	"subjects":[
		"Graphic methods", "Communication in science", "Visual communication"
	],
	"links":[
		{
			"title":"Amazon",
			"link":"http://www.amazon.com/exec/obidos/ASIN/1568989369/visualcompl0f-20/"
		},{
			"title":"Publisher",
			"link":"http://papress.com/html/book.details.page.tpl?isbn=9781568989365"
		}
	],
	"rating":"4",
	"description":"Wonderful book about the past, present and future of man's attempts to document and display information."
},{
	"title":{
		"name":"The Information Diet",
		"link":"http://www.informationdiet.com/"
	},
	"author":{
		"name":"Clay A. Johnson",
		"link":"#"
	},
	"publisher":{
		"name":"O'Reilly Media",
		"link":"#"
	},
	"year":"2012",
	"cover":"./covers/information.jpg",
	"numbers":[
		{"name":"ISBN",
		"number":"978-1-4493-0468-3"
		}
	],
	"pages":"160",
	"read":"2013-02-11",
	"subjects":[
		"non-fiction","information overload"
	],
	"links":[
		{
			"title":"Homepage",
			"link":"http://www.informationdiet.com/"
		},{
			"title":"Publisher",
			"link":"http://shop.oreilly.com/product/0636920019978.do"
		},{
			"title":"amazon",
			"link":"http://www.amazon.com/gp/product/1449304680?ie=UTF8&tag=clayworld-20&linkCode=shr&camp=213733&creative=393185&creativeASIN=1449304680&ref_=sr_1_1&qid=1319838673&sr=8-1"
		}
	],
	"rating":"4",
	"description":"Clay Johnson offers his view on how we, as a society, can take control of the quality of information that we consume. Ending on a hopeful high note, he pleads for developers to spend more time making the world a better place."
}];
</script>
<script>

$(document).ready(function(){

	createBullets();

	$('.about').hide();

	$('#aboutLink').click(function(event){
		event.preventDefault();
		console.log('clicked about');
		console.log(about);
		if(about == false){
			$('.about').slideDown();
			about = true;
		} else {
			$('.about').slideUp();
			about = false;
		}
	});

	$('.bookBullet').click(function(){

		$('.bookBullet').each(function(){
			$(this).removeClass('active');
		});

		$(this).addClass('active');

		bookNumber = $(this).attr('data-booknumber');

		$('.bookArea').fadeOut(500,function(){
			createBook(bookNumber);
			$('.bookArea').fadeIn(700);
		});
	});

	

	createBook(0);

	$('.bookNavLink').click(function(event){
		event.preventDefault();
		var newBookNumber = parseInt($(this).attr('data-booknumber'));
		
		if(newBookNumber < 0 || newBookNumber == bookData.length) {
			return false;
		}

		bookNumber = newBookNumber;

		$('.bookArea').fadeOut(500,function(){
			createBook(bookNumber);
			$('.bookArea').fadeIn(700);
		});

		$('.bookBullet').each(function(){
			$(this).removeClass('active');
		});

		$('.header [data-booknumber="'+bookNumber+'"]').addClass('active');
	});

	$('.header [data-booknumber="'+bookNumber+'"]').addClass('active');

});

var bookNumber = 0, about = false;

function createBullets(){
	for(var i = 0; i < bookData.length; i++) {

		var bookTitle = bookData[i].title.name;
		var dateRead = bookData[i].read;

		var yr = dateRead.split('-')[0];
		var mo = dateRead.split('-')[1] - 1;
		var da = dateRead.split('-')[2];

		var start = new Date(2013, 0, 0);
		var date = new Date(yr,mo,da);

		var diff = Math.floor((date - start )/(1000 * 60 * 60 * 24));
		var percent = Math.floor(1000*diff/365)/10;

		percent = percent*0.9 + 5;

		var bullet = $(document.createElement('div'));
		bullet.addClass('bookBullet');
		bullet.attr('data-booknumber',i);
		bullet.attr('style','left:'+percent+'%');

		var title = $(document.createElement('div'));
		title.addClass('hoverTitle');
		title.text(bookTitle);

		bullet.append(title);

		$('#timeline').append(bullet);
	}
}

function clearBook(){
	$('#numbers').html('');
	$('#links').html('');
}

function createBook(number){
	clearBook();

	var coverImage = bookData[number].cover;
	$('.coverImage').attr('src',coverImage);

	var title = bookData[number].title.name;
	var titleLink = bookData[number].title.link;

	$('#title').text(title);
	$('#title').attr('href', titleLink);

	var author = bookData[number].author.name;
	var authorLink = bookData[number].author.link;

	$('#author').text(author);
	$('#author').attr('href',authorLink);

	var publisher = bookData[number].publisher.name;
	var publisherLink = bookData[number].publisher.link;

	$('#publisher').text(publisher);
	$('#publisher').attr('href',publisherLink);

	var year = bookData[number].year;
	$('#year').text(year);

	var numbers = bookData[number].numbers;
	for(var i = 0; i < numbers.length; i++){
		var name = numbers[i].name;
		var numberN = numbers[i].number;
		var link = numbers[i].link;

		var pTag = $(document.createElement('p'));
		pTag.addClass('bookDescription');

		if(link){
			var aTag =  $(document.createElement('a'));
			aTag.addClass('numberLinks');
			aTag.attr('href',link);
			aTag.text(name + ': ' + numberN);
			pTag.append(aTag);
		} else {
			pTag.text(name + ': ' + numberN);
		}

		$('#numbers').append(pTag);
	}

	var readDate = bookData[number].read;
	$('#readDate').text('read: ' + readDate);

	var pages = bookData[number].pages;
	$('#pages').text('pages: ' + pages);

	var description = bookData[number].description;
	$('#description').text(description);

	var rating = bookData[number].rating;

	var stars = parseInt(rating);
	var starsFaded = 5 - stars;
	var starString = '', fadedString = '';

	for (var j = 0; j < stars; j++) {
		starString += '*';
	}
	for (var k = 0; k <starsFaded; k++) {
		fadedString += '*';
	}

	rating = 'rating: ' + starString + '<span class="faded">' + fadedString + '</span>';
	$('#rating').html(rating);

	var tags = bookData[number].subjects;
	var tagString = 'subjects: ';

	for (var k = 0; k < tags.length; k++) {
		if (k == tags.length - 1){
			tagString += tags[k];
		} else {
			tagString += tags[k] + ', ';
		}
	}
	$('#tags').text(tagString);

	var links = bookData[number].links;

	$('#links').append('Links: ');

	for (var l = 0; l < links.length; l++){

		var aTag = $(document.createElement('a'));
		aTag.text(links[l].title);
		aTag.attr('href',links[l].link);
		aTag.addClass('externalLink');



		$('#links').append(aTag);

		if (l < links.length - 1 ) {
			$('#links').append(', ');
		}

	}

	updateLinks();
	
}

function updateLinks() {
	bookNumber = parseInt(bookNumber);
	$('#next').attr('data-booknumber', bookNumber + 1);
	if (bookNumber + 1 > bookData.length) {
		$('#next').addClass('faded');
	} else {
		$('#next').removeClass('faded');
	}
	$('#prev').attr('data-booknumber', bookNumber - 1);
	if (bookNumber - 1 < 0) {
		$('#prev').addClass('faded');
	} else {
		$('#prev').removeClass('faded');
	}
}

</script>
</head>
<body>
	<div class="header" id="timeline">
		2013

	</div>
	<div class="bookArea">
		<img src="" class="coverImage pull-left"/>
		<div class="bookInfo pull-left">
			<h2 class="bookTitle"><a href="#" class="numberLinks" id="title"></a></h2>
			<h3 class="author"><a href="#" class="numberLinks" id="author"></a><br/><a href="#" class="numberLinks" id="publisher"></a></h3>
			<br/><h3 class="author" id="year"></h3>
			<div class="divider"></div>
			<div id="numbers">
			</div>
			<br/>
			<p class="bookDescription" id="readDate"></p>
			<p class="bookDescription" id="pages"></p>
			<br/>
			<p class="bookDescription" id="description"></p>
			<br/>
			<p class="bookDescription" id="rating"></p>
			<br/>
			<p class="bookDescription" id="tags"></p>
			<br/>
			<p class="bookDescription" id="links"></p>
			<br/><br/>
			<p class="bookNav"><a href="#" class="bookNavLink" id="prev">prev</a> / <a href="#" class="bookNavLink" id="next">next</a></p>
		</div>
	</div>
	<div class="footer">
		<span class="copyleft">&copy;</span><i><a href="http://crisnoble.com" class="subtleLink">crisnoble.com</a> x <a href="http://mksht.crisnoble.com" class="subtleLink">MKSHT</a></i> | <i><a href="#" class="subtleLink" id="aboutLink">About</a></i><span class="about">This is another speed project brought to you by Cris Noble. Please <a href="https://github.com/crismanNoble/tabula" class="externalLink">view the code</a>.</span>
	</div>

	<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-37617426-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</body>
</html>